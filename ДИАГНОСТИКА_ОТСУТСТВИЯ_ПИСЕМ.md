# üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –ø–∏—Å–µ–º

## –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –µ—Å—Ç—å –ª–∏ –ø–∏—Å—å–º–∞ –≤ –ë–î

–í—ã–ø–æ–ª–Ω–∏—Ç–µ –≤ SQL Server Management Studio:

```sql
USE CloudCityDB;
GO

-- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ø–∏—Å–µ–º
SELECT COUNT(*) AS TotalMessages FROM [dbo].[ContactMessages];
GO

-- –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –ø–∏—Å–µ–º
SELECT 
    Id, 
    Name, 
    Email, 
    SourcePage, 
    CreatedAt, 
    IsRead 
FROM [dbo].[ContactMessages] 
ORDER BY CreatedAt DESC;
GO
```

**–ï—Å–ª–∏ –ø–∏—Å–µ–º –Ω–µ—Ç –≤ –ë–î** ‚Üí –ü—Ä–æ–±–ª–µ–º–∞ –≤ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ (—Å–º. –®–∞–≥ 2)
**–ï—Å–ª–∏ –ø–∏—Å—å–º–∞ –µ—Å—Ç—å –≤ –ë–î** ‚Üí –ü—Ä–æ–±–ª–µ–º–∞ –≤ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–∏ (—Å–º. –®–∞–≥ 3)

## –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –ø–∏—Å–µ–º

### 2.1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —Ñ–æ—Ä–º—ã

```bash
# –°–ª–µ–¥–∏—Ç–µ –∑–∞ –ª–æ–≥–∞–º–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
sudo journalctl -u cloudcity -f
```

–ó–∞—Ç–µ–º:
1. –û—Ç–∫—Ä–æ–π—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É `/Contact` –∏–ª–∏ `/About`
2. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ —Ñ–æ—Ä–º—É
3. –°–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏ - –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å—Ç—Ä–æ–∫–∏:
   - `Contact form Submit called`
   - `Contact message saved to database with ID: X`
   - –ò–ª–∏ –æ—à–∏–±–∫–∞: `Failed to save contact message to database`

### 2.2. –ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ –æ—à–∏–±–∫—É —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è

–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:
- –ü—Ä–æ–±–ª–µ–º–∞ —Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º –∫ –ë–î
- –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞–±–ª–∏—Ü—ã
- –û—à–∏–±–∫–∞ –≤ –∫–æ–¥–µ

**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ç–∞–±–ª–∏—Ü—ã (—Å–º. —Ñ–∞–π–ª `–ü–†–û–í–ï–†–ö–ê_–ò_–ò–°–ü–†–ê–í–õ–ï–ù–ò–ï_–¢–ê–ë–õ–ò–¶–´.md`)

### 2.3. –ï—Å–ª–∏ –Ω–µ –≤–∏–¥–∏—Ç–µ –ª–æ–≥–æ–≤ –æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏

–í–æ–∑–º–æ–∂–Ω–æ, `EmailService` –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –∏–ª–∏ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –≤ –¥—Ä—É–≥–æ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ.

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:**
1. –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ª–∏ —Ñ–æ—Ä–º–∞ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ `/Contact`?
2. –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –ª–∏ —Ñ–æ—Ä–º–∞ (–Ω–µ—Ç –æ—à–∏–±–æ–∫ –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞)?
3. –ï—Å—Ç—å –ª–∏ –ª–æ–≥–∏ `Contact form Submit called`?

## –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–∏—Å–µ–º

### 3.1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∑–∞–ø—Ä–æ—Å –≤ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–µ

–ï—Å–ª–∏ –ø–∏—Å—å–º–∞ –µ—Å—Ç—å –≤ –ë–î, –Ω–æ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è, –ø—Ä–æ–±–ª–µ–º–∞ –≤ `MessagesController`.

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:**
```bash
sudo journalctl -u cloudcity -n 100 | grep -i "messages\|contact"
```

### 3.2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã –≤–æ—à–ª–∏ –∫–∞–∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä (—Ä–æ–ª—å "Admin"):
- –û—Ç–∫—Ä–æ–π—Ç–µ `/Admin/Messages`
- –ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ –æ—à–∏–±–∫—É –¥–æ—Å—Ç—É–ø–∞ - –≤–æ–π–¥–∏—Ç–µ –∫–∞–∫ –∞–¥–º–∏–Ω

### 3.3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–∏–ª—å—Ç—Ä—ã

–ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ `/Admin/Messages` –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:
- –ù–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ª–∏ —Ñ–∏–ª—å—Ç—Ä—ã, –∫–æ—Ç–æ—Ä—ã–µ —Å–∫—Ä—ã–≤–∞—é—Ç –ø–∏—Å—å–º–∞?
- –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–±—Ä–æ—Å–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã (–∫–Ω–æ–ø–∫–∞ "–°–±—Ä–æ—Å–∏—Ç—å")

## –®–∞–≥ 4: –¢–µ—Å—Ç–æ–≤–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ –ø–∏—Å—å–º–∞

### 4.1. –û—Ç–ø—Ä–∞–≤—å—Ç–µ —Ç–µ—Å—Ç–æ–≤–æ–µ –ø–∏—Å—å–º–æ

1. –û—Ç–∫—Ä–æ–π—Ç–µ `/Contact`
2. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É:
   - –ò–º—è: Test
   - Email: test@example.com
   - –¢–µ–ª–µ—Ñ–æ–Ω: 123456789
   - –°–æ–æ–±—â–µ–Ω–∏–µ: Test message
3. –û—Ç–ø—Ä–∞–≤—å—Ç–µ —Ñ–æ—Ä–º—É

### 4.2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ë–î —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –æ—Ç–ø—Ä–∞–≤–∫–∏

```sql
USE CloudCityDB;
GO

SELECT TOP 1 
    Id, 
    Name, 
    Email, 
    SourcePage, 
    CreatedAt 
FROM [dbo].[ContactMessages] 
ORDER BY CreatedAt DESC;
GO
```

–ï—Å–ª–∏ –ø–∏—Å—å–º–æ –ø–æ—è–≤–∏–ª–æ—Å—å ‚Üí –ü—Ä–æ–±–ª–µ–º–∞ –±—ã–ª–∞ –≤—Ä–µ–º–µ–Ω–Ω–æ–π
–ï—Å–ª–∏ –ø–∏—Å—å–º–æ –Ω–µ –ø–æ—è–≤–∏–ª–æ—Å—å ‚Üí –ü—Ä–æ–±–ª–µ–º–∞ –≤ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏

## –®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –ë–î

–í–æ–∑–º–æ–∂–Ω–æ, `EmailService` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –¥—Ä—É–≥–æ–π –∫–æ–Ω—Ç–µ–∫—Å—Ç –ë–î.

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:**
1. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ª–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è —Å—Ç—Ä–æ–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è?
2. –ù–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ª–∏ InMemory –±–∞–∑–∞?

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
sudo systemctl show cloudcity | grep ConnectionStrings
```

–î–æ–ª–∂–Ω–æ –±—ã—Ç—å:
```
ConnectionStrings__DefaultConnection=Server=10.151.10.8;Database=CloudCityDB;...
```

## –ë—ã—Å—Ç—Ä–æ–µ —Ä–µ—à–µ–Ω–∏–µ

–ï—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –ø–æ–º–æ–≥–∞–µ—Ç, —Å–æ–∑–¥–∞–π—Ç–µ —Ç–µ—Å—Ç–æ–≤–æ–µ –ø–∏—Å—å–º–æ –≤—Ä—É—á–Ω—É—é:

```sql
USE CloudCityDB;
GO

INSERT INTO [dbo].[ContactMessages] 
    ([Name], [Email], [Phone], [Subject], [ServiceType], [Message], [SourcePage], [CreatedAt], [IsRead])
VALUES 
    ('Test User', 'test@example.com', '123456789', 'Test Subject', 'Test Service', 'This is a test message', 'Contact', GETUTCDATE(), 0);
GO

SELECT * FROM [dbo].[ContactMessages] WHERE Email = 'test@example.com';
GO
```

–ó–∞—Ç–µ–º –æ–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É `/Admin/Messages` - –ø–∏—Å—å–º–æ –¥–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è.

–ï—Å–ª–∏ —Ç–µ—Å—Ç–æ–≤–æ–µ –ø–∏—Å—å–º–æ –ø–æ—è–≤–∏–ª–æ—Å—å ‚Üí –ü—Ä–æ–±–ª–µ–º–∞ –≤ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —Ñ–æ—Ä–º—ã
–ï—Å–ª–∏ —Ç–µ—Å—Ç–æ–≤–æ–µ –ø–∏—Å—å–º–æ –Ω–µ –ø–æ—è–≤–∏–ª–æ—Å—å ‚Üí –ü—Ä–æ–±–ª–µ–º–∞ –≤ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–∏

---

**–ü—Ä–∏—à–ª–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø—Ä–æ–≤–µ—Ä–∫–∏ - –ø–æ–º–æ–≥—É —Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è!**

