@model CloudCityCenter.Models.ViewModels.ProductCardVm
@{
    var imageUrl = string.IsNullOrWhiteSpace(Model.ImageUrl)
        ? "https://via.placeholder.com/300x200?text=No+Image"
        : Model.ImageUrl;
}
<img src="@imageUrl" class="card-img-top" alt="@Model.Name" />
<div class="card-body">
    <h5 class="card-title">@Model.Name</h5>
    <ul class="list-unstyled small">
    @foreach (var feature in Model.TopFeatures)
    {
        <li>@feature</li>
    }
    </ul>
    <p class="card-text fw-semibold">$@Model.PricePerMonth / month</p>
    <form asp-controller="Cart" asp-action="Add" method="post" class="add-to-cart-form" data-ajax="true">
        <input type="hidden" name="productId" value="@Model.Id" />
        @if (Model.ProductVariantId.HasValue)
        {
            <input type="hidden" name="productVariantId" value="@Model.ProductVariantId" />
        }
        <input type="hidden" name="price" value="@Model.PricePerMonth" />
        <button type="submit" class="btn btn-primary">Add to Cart</button>
    </form>
</div>
