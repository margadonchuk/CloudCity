# CloudCity Center

üåê –ò–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω –ø–æ –∞—Ä–µ–Ω–¥–µ —Å–µ—Ä–≤–µ—Ä–æ–≤, —Å–æ–∑–¥–∞–Ω–Ω—ã–π —Å –Ω—É–ª—è –Ω–∞ ASP.NET MVC –∏ Entity Framework Core.

An online shop for renting servers built from scratch with ASP.NET MVC and Entity Framework Core.

## ‚öôÔ∏è –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏
**Technologies Used**

- ASP.NET MVC (.NET 6/8)
- Entity Framework Core
- MS SQL Server
- Identity (—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –≤—Ö–æ–¥)
- Stripe / PayPal API (–æ–ø–ª–∞—Ç–∞)
- Bootstrap / Tailwind CSS (frontend)
- AdminLTE (–ø–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞)

## ‚úÖ –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
**Prerequisites**

- –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω [.NET SDK 8.0](https://dotnet.microsoft.com/).  
  [.NET SDK 8.0](https://dotnet.microsoft.com/) installed.
- SQL Server LocalDB –∏–ª–∏ –¥—Ä—É–≥–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–π —Å–µ—Ä–≤–µ—Ä –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.  
  SQL Server LocalDB or another compatible database server.

## üîß –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ (–±—É–¥—É—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã)
**Planned Features**

- –ö–∞—Ç–∞–ª–æ–≥ —Å–µ—Ä–≤–µ—Ä–æ–≤ –ø–æ —Å—Ç—Ä–∞–Ω–∞–º –∏ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞–º
- Server catalog by country and specs
- –õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç –∫–ª–∏–µ–Ω—Ç–∞
- Client dashboard
- –ü–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
- Admin panel
- –û–Ω–ª–∞–π–Ω-–æ–ø–ª–∞—Ç–∞ –∞—Ä–µ–Ω–¥—ã
- Online rental payments
- –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –≤—ã–¥–∞—á–∏ –¥–æ—Å—Ç—É–ø–æ–≤
- Automated access provisioning

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞
**Installation**

1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:  
   Clone the repository:
   ```bash
   git clone https://github.com/yourusername/CloudCityCenter.git
   ```
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã –≤—Å–µ [–ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è](#-–ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ-—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è).  
   Ensure all [prerequisites](#-–ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ-—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è) are satisfied.
3. –í –∫–æ—Ä–Ω–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:  
   In the repository root, restore dependencies:
   ```bash
   dotnet restore
   ```
4. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ Entity Framework Core:  
   Install the Entity Framework Core CLI tool:
   ```bash
   dotnet tool install --global dotnet-ef
   ```
   –≠—Ç–æ—Ç —à–∞–≥ –Ω–µ–æ–±—Ö–æ–¥–∏–º –ø–µ—Ä–µ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º `dotnet ef database update`.  
   This step is required before running `dotnet ef database update`.
5. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø–∞–ø–∫—É `CloudCityCenter` –∏ –ø—Ä–∏–º–µ–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏:  
   Navigate to the `CloudCityCenter` folder and apply migrations:
   ```bash
   dotnet ef database update
   ```
6. –ü–æ—Å–ª–µ —á–∏—Å—Ç–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –±–∞–∑–∞ –¥–æ–ª–∂–Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å –º–æ–¥–µ–ª–∏. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —ç—Ç–æ:
   After a clean install the database should match the model. Verify with:
   ```bash
   dotnet ef migrations list
   ```
   –∏ –∑–∞–ø—Ä–æ—Å–æ–º `HomeController.Index`.
   and by requesting `HomeController.Index`.
7. –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –µ—ë –ø—Ä–∏–º–µ—Ä–Ω—ã–º–∏ —Å–µ—Ä–≤–µ—Ä–∞–º–∏ –∏ –∑–∞–∫–∞–∑–∞–º–∏:  
   (Optional) Seed the database with sample servers and orders:
   ```bash
   dotnet run --project CloudCityCenter -- seed
   ```
8. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç:  
   Run the project:
   ```bash
   dotnet run --project CloudCityCenter
   ```

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è —Å–µ—Ä–≤–µ—Ä–æ–≤ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è-–∑–∞–≥–ª—É—à–∫–∏ —Å `via.placeholder.com`.  
By default placeholder images from `via.placeholder.com` are used for servers.  
–í—ã –º–æ–∂–µ—Ç–µ –∑–∞–º–µ–Ω–∏—Ç—å –∏—Ö, –∑–∞–≥—Ä—É–∑–∏–≤ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –≤ –∫–∞—Ç–∞–ª–æ–≥ `CloudCityCenter/wwwroot/images` –∏ —É–∫–∞–∑–∞–≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ URL –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.  
You can replace them by uploading your own files to `CloudCityCenter/wwwroot/images` and updating the URLs in the database.

## üìö Frontend –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
**Frontend libraries**

Bootstrap –∏ jQuery –ø–æ–¥–∫–ª—é—á–µ–Ω—ã —á–µ—Ä–µ–∑ CDN –≤ —Ñ–∞–π–ª–µ `_Layout.cshtml`. –õ–æ–∫–∞–ª—å–Ω–∞—è –ø–∞–ø–∫–∞ `wwwroot/lib` –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è.  
Bootstrap and jQuery are referenced from a CDN in `_Layout.cshtml`. The local `wwwroot/lib` folder is not used.

## üß™ –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
**Running tests**

–í—Å–µ –º–æ–¥—É–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –ø—Ä–æ–µ–∫—Ç–µ `CloudCityCenter.Tests`. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∏—Ö –∫–æ–º–∞–Ω–¥–æ–π:  
All unit tests live in the `CloudCityCenter.Tests` project. Run them with:
```bash
dotnet test
```

## üå± –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –±–∞–∑—ã –ø—Ä–∏–º–µ—Ä–∞–º–∏
**Seeding the database**

–ü–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –º–∏–≥—Ä–∞—Ü–∏–π –º–æ–∂–Ω–æ –∑–∞–ø–æ–ª–Ω–∏—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤—ã–º–∏ —Å–µ—Ä–≤–µ—Ä–∞–º–∏ –∏ –∑–∞–∫–∞–∑–∞–º–∏ —Å –ø–æ–º–æ—â—å—é –∫–ª–∞—Å—Å–∞ `SeedData`. –í—ã–ø–æ–ª–Ω–∏—Ç–µ:  
After applying migrations you can seed the database with test servers and orders using the `SeedData` class:
```bash
dotnet run --project CloudCityCenter -- seed
```
–ü—Ä–∏ —ç—Ç–æ–º –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω —Ç–µ—Å—Ç–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å `test@example.com` —Å –ø–∞—Ä–æ–ª–µ–º `Pa$$w0rd` –∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–∏–º–µ—Ä–Ω—ã—Ö –∑–∞–∫–∞–∑–æ–≤.  
This will create the test user `test@example.com` with password `Pa$$w0rd` and a few example orders.

## üîó –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç—Ä–æ–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
**Changing the connection string**

–°—Ç—Ä–æ–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è `DefaultConnection` –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ LocalDB.  
The `DefaultConnection` connection string points to LocalDB by default.  
–í—ã –º–æ–∂–µ—Ç–µ –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –µ—ë –≤ —Ñ–∞–π–ª–µ `CloudCityCenter/appsettings.json` –∏–ª–∏ –ø–µ—Ä–µ–¥–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è:  
You can edit it in `CloudCityCenter/appsettings.json` or provide it via an environment variable:
```bash
export ConnectionStrings__DefaultConnection="Server=localhost\SQLEXPRESS;Database=master;Trusted_Connection=True;"
```

–ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ç—Ä–æ–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –∏, –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –±–∞–∑—É –ø—Ä–∏–º–µ—Ä–∞–º–∏:  
After changing the connection string, apply migrations and optionally seed the database:
```bash
dotnet ef database update
dotnet run --project CloudCityCenter -- seed
```

## üóÑÔ∏è –ú–∏–≥—Ä–∞—Ü–∏–∏ –ë–î
**Database migrations**

- –°–æ–∑–¥–∞–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–∏:
  Create a migration:
  ```bash
  dotnet ef migrations add <MigrationName>
  ```

- –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π –ª–æ–∫–∞–ª—å–Ω–æ:
  Apply migrations locally:
  ```bash
  dotnet ef database update --project CloudCityCenter
  ```

- –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:
  Apply migrations on the server:
  ```bash
  export ConnectionStrings__DefaultConnection="Server=...;Database=...;User Id=...;Password=..."
  dotnet ef database update --project CloudCityCenter
  sudo systemctl restart cloudcity.service
  ```
  –°—Ç—Ä–æ–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è, –∑–∞—Ç–µ–º –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è systemd‚Äë—Å–µ—Ä–≤–∏—Å.
  The connection string is supplied via environment variables and the systemd service is restarted.

–ü–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –º–∏–≥—Ä–∞—Ü–∏–π –Ω–µ –∑–∞–±—É–¥—å—Ç–µ –æ–±–Ω–æ–≤–∏—Ç—å —Å–µ—Ä–≤–∏—Å.
Remember to update the service after applying migrations.

## üñ•Ô∏è –°–µ—Ä–≤–µ—Ä—ã (—Ç–æ–≤–∞—Ä—ã)
**Servers (Products)**

- –°–æ–∑–¥–∞–Ω–∏–µ –∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π:
  Create and apply migrations:
  ```bash
  dotnet ef migrations add <MigrationName> --project CloudCityCenter
  dotnet ef database update --project CloudCityCenter
  ```
- –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –±–∞–∑—ã –∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞:
  Seed sample data and an admin account:
  ```bash
  dotnet run --project CloudCityCenter -- --seed
  dotnet run --project CloudCityCenter -- --seed-admin=admin@example.com
  ```
- URL –ø–∞–Ω–µ–ª–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –¥–ª—è —Å–µ—Ä–≤–µ—Ä–æ–≤:
  Admin panel URL for servers:
  `/Admin/Servers`
- –ü–æ–ª—è –º–æ–¥–µ–ª–∏ `Server` –∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è:
  `Server` fields and image paths:
  –ö–ª—é—á–µ–≤—ã–µ –ø–æ–ª—è: `Name`, `Slug` (auto), `Description`, `Location`, `PricePerMonth`, `CPU`, `RamGb`, `StorageGb`, `ImageUrl`, `IsActive`, `DDoSTier`, `Stock`, `CreatedUtc`.
  Key fields: `Name`, `Slug` (auto), `Description`, `Location`, `PricePerMonth`, `CPU`, `RamGb`, `StorageGb`, `ImageUrl`, `IsActive`, `DDoSTier`, `Stock`, `CreatedUtc`.
  `ImageUrl` —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –∫–∞–∫ `/images/servers/<—Ñ–∞–π–ª>`, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ä–∞–∑–º–µ—â–∞–π—Ç–µ –≤ `wwwroot/images/servers`.
  `ImageUrl` is stored as `/images/servers/<file>`; place images in `wwwroot/images/servers`.
