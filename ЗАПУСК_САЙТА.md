# üöÄ –ó–ê–ü–£–°–ö –°–ê–ô–¢–ê - –ü–†–û–°–¢–ê–Ø –ò–ù–°–¢–†–£–ö–¶–ò–Ø

## ‚ö° –ë–´–°–¢–†–´–ô –ó–ê–ü–£–°–ö (3 –∫–æ–º–∞–Ω–¥—ã)

–í—ã–ø–æ–ª–Ω–∏—Ç–µ —ç—Ç–∏ –∫–æ–º–∞–Ω–¥—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ **–ø–æ –ø–æ—Ä—è–¥–∫—É**:

```bash
cd /home/siteadmin/cloudcity
git pull
```

```bash
cd CloudCityCenter
dotnet build --configuration Release
```

```bash
export ASPNETCORE_ENVIRONMENT=Production
export ASPNETCORE_URLS="http://localhost:5000"
export USE_REVERSE_PROXY=true
nohup dotnet bin/Release/net8.0/CloudCityCenter.dll > app.log 2>&1 &
```

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
```bash
sleep 3
curl http://localhost:5000
```

–ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ HTML-–∫–æ–¥ - –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç! –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–∞–π—Ç: **https://cloudcitylife.com**

---

## üìã –ï–°–õ–ò –°–ê–ô–¢ –ù–ï –û–¢–ö–†–´–í–ê–ï–¢–°–Ø

### –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∑–∞–ø—É—â–µ–Ω–æ –ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

```bash
ps aux | grep CloudCityCenter
```

–ï—Å–ª–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞ –Ω–µ—Ç - –∑–∞–ø—É—Å—Ç–∏—Ç–µ –≤—Ä—É—á–Ω—É—é (—Å–º. –∫–æ–º–∞–Ω–¥—ã –≤—ã—à–µ).

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–ª—É—à–∞–µ—Ç –ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ—Ä—Ç

```bash
netstat -tlnp | grep 5000
# –∏–ª–∏
ss -tlnp | grep 5000
```

–ï—Å–ª–∏ –ø–æ—Ä—Ç 5000 –Ω–µ —Å–ª—É—à–∞–µ—Ç—Å—è - –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –∑–∞–ø—É—â–µ–Ω–æ.

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Nginx

```bash
sudo systemctl status nginx
```

–ï—Å–ª–∏ Nginx –Ω–µ –∑–∞–ø—É—â–µ–Ω:
```bash
sudo systemctl start nginx
```

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Nginx

```bash
sudo nginx -t
```

–ï—Å–ª–∏ –µ—Å—Ç—å –æ—à–∏–±–∫–∏ - –∏—Å–ø—Ä–∞–≤—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é.

---

## üîß –ù–ê–°–¢–†–û–ô–ö–ê SYSTEMD –°–ï–†–í–ò–°–ê (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

–ß—Ç–æ–±—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—Å–∫–∞–ª–æ—Å—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–µ —Å–µ—Ä–≤–µ—Ä–∞:

```bash
cd /home/siteadmin/cloudcity/CloudCityCenter
```

**–ù–∞–π–¥–∏—Ç–µ –ø—É—Ç—å –∫ dotnet:**
```bash
which dotnet
```

**–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª —Å–µ—Ä–≤–∏—Å–∞:**
```bash
sudo nano /etc/systemd/system/cloudcity.service
```

**–í—Å—Ç–∞–≤—å—Ç–µ (–ó–ê–ú–ï–ù–ò–¢–ï `/usr/bin/dotnet` –Ω–∞ –ø—É—Ç—å –∏–∑ `which dotnet`):**
```ini
[Unit]
Description=CloudCity ASP.NET Core App
After=network.target

[Service]
Type=notify
WorkingDirectory=/home/siteadmin/cloudcity/CloudCityCenter
ExecStart=/usr/bin/dotnet /home/siteadmin/cloudcity/CloudCityCenter/bin/Release/net8.0/CloudCityCenter.dll
Restart=always
RestartSec=10
KillSignal=SIGINT
SyslogIdentifier=cloudcity
Environment=ASPNETCORE_ENVIRONMENT=Production
Environment=ASPNETCORE_URLS=http://localhost:5000
Environment=USE_REVERSE_PROXY=true
User=siteadmin

[Install]
WantedBy=multi-user.target
```

**–ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ:**
```bash
sudo systemctl daemon-reload
sudo systemctl enable cloudcity
sudo systemctl start cloudcity
sudo systemctl status cloudcity
```

---

## üìä –ü–†–û–í–ï–†–ö–ê –°–¢–ê–¢–£–°–ê

```bash
# –°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–∞ (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ systemd)
sudo systemctl status cloudcity

# –ü—Ä–æ—Ü–µ—Å—Å—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
ps aux | grep dotnet

# –ü–æ—Ä—Ç—ã
netstat -tlnp | grep 5000

# –¢–µ—Å—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
curl http://localhost:5000

# –¢–µ—Å—Ç —á–µ—Ä–µ–∑ –¥–æ–º–µ–Ω
curl https://cloudcitylife.com
```

---

## üêõ –õ–û–ì–ò –ò –û–®–ò–ë–ö–ò

**–ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ systemd:**
```bash
sudo journalctl -u cloudcity -f
```

**–ï—Å–ª–∏ –∑–∞–ø—É—Å—Ç–∏–ª–∏ —á–µ—Ä–µ–∑ nohup:**
```bash
tail -f /home/siteadmin/cloudcity/CloudCityCenter/app.log
```

**–õ–æ–≥–∏ Nginx:**
```bash
sudo tail -f /var/log/nginx/error.log
```

---

## ‚úÖ –ö–û–ù–¢–†–û–õ–¨–ù–´–ô –°–ü–ò–°–û–ö

- [ ] –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–æ–±—Ä–∞–Ω–æ: `ls -la bin/Release/net8.0/CloudCityCenter.dll`
- [ ] –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—â–µ–Ω–æ: `ps aux | grep CloudCityCenter`
- [ ] –ü–æ—Ä—Ç 5000 —Å–ª—É—à–∞–µ—Ç—Å—è: `netstat -tlnp | grep 5000`
- [ ] –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ—Ç–≤–µ—á–∞–µ—Ç: `curl http://localhost:5000`
- [ ] Nginx –∑–∞–ø—É—â–µ–Ω: `sudo systemctl status nginx`
- [ ] Nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è: `sudo nginx -t`
- [ ] –°–∞–π—Ç –¥–æ—Å—Ç—É–ø–µ–Ω —á–µ—Ä–µ–∑ –¥–æ–º–µ–Ω: `curl https://cloudcitylife.com`

---

## üîÑ –ü–ï–†–ï–ó–ê–ü–£–°–ö

**–ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ systemd:**
```bash
sudo systemctl restart cloudcity
```

**–ï—Å–ª–∏ –∑–∞–ø—É—â–µ–Ω–æ —á–µ—Ä–µ–∑ nohup:**
```bash
# –ù–∞–π–¥–∏—Ç–µ –ø—Ä–æ—Ü–µ—Å—Å
ps aux | grep CloudCityCenter
# –£–±–µ–π—Ç–µ –µ–≥–æ
kill <PID>
# –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∑–∞–Ω–æ–≤–æ (—Å–º. –∫–æ–º–∞–Ω–¥—ã –≤—ã—à–µ)
```





